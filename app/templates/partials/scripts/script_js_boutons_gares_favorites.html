<script>
    document.addEventListener("DOMContentLoaded", function () {
        document.querySelectorAll(".ajout-favoris-btn").forEach(button => {
            button.addEventListener("click", function () {
                let UIC = this.getAttribute("data-uic");
    
                fetch("/ajouter-favori", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify({ UIC: UIC })
                })
                .then(response => response.json())
                .then(data => {
                    afficherMessageFlash(data.message, data.status);
                })
                .catch(error => console.error("Erreur :", error));
            });
        });
    
        function afficherMessageFlash(message, category) {
            let flashContainer = document.querySelector(".flash-messages");
            
            if (!flashContainer) {
                flashContainer = document.createElement("div");
                flashContainer.className = "flash-messages";
                document.body.insertBefore(flashContainer, document.body.firstChild);
            }
    
            let flashMessage = document.createElement("div");
            flashMessage.className = `alert alert-${category}`;
            flashMessage.textContent = message;
    
            flashContainer.appendChild(flashMessage);
    
            setTimeout(() => {
                flashMessage.remove();
            }, 5000);
        }
    });
        </script>
        