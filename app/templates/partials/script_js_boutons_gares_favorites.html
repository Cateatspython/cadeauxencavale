<script>
    document.addEventListener("DOMContentLoaded", function () {
    document.querySelectorAll(".ajout-favoris-btn").forEach(button => {
        button.addEventListener("click", function () {
            let UIC = this.getAttribute("data-uic");
            console.log("UIC rÃ©cupÃ©rÃ© :", UIC); // VÃ©rifier que l'UIC est bien rÃ©cupÃ©rÃ©

            fetch("/ajouter-favori", {  // ðŸ”¹ Change l'URL pour une route distincte
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({ UIC: UIC })
            })
            .then(response => response.json())
            .then(data => {
                console.log("RÃ©ponse Flask :", data); // VÃ©rifier la rÃ©ponse de Flask
                if (data.status === "success") {
                    alert("Gare ajoutÃ©e aux favoris !");
                } else if (data.status === "exists") {
                    alert("Cette gare est dÃ©jÃ  dans vos favoris.");
                } else {
                    alert("Erreur : " + data.message);
                }
            })
            .catch(error => console.error("Erreur :", error));
        });
    });
});
    </script>
    